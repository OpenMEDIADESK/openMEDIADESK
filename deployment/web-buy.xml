<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd">
<web-app version="2.4"
 xmlns="http://java.sun.com/xml/ns/j2ee"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">

    <context-param>
        <param-name>log4jConfigLocation</param-name>
        <param-value>/WEB-INF/classes/log4j.properties</param-value>
    </context-param>

    <listener>
        <listener-class>
            com.stumpner.mediadesk.core.WebContextListener
        </listener-class>
    </listener>

    <servlet>
        <servlet-name>webdav</servlet-name>
        <servlet-class>com.stumpner.mediadesk.web.servlet.SimpleWebdavServlet</servlet-class>
        <init-param>
            <param-name>ResourceHandlerImplementation</param-name>
            <param-value>com.stumpner.mediadesk.web.servlet.SimpleWebdavStore</param-value>
        </init-param>
        <init-param>
            <param-name>rootpath</param-name>
            <param-value>C:/data/suside/fsip</param-value>
        </init-param>
        <init-param>
            <param-name>storeDebug</param-name>
            <param-value>0</param-value>
        </init-param>
    </servlet>

    <servlet>
        <servlet-name>imageServlet</servlet-name>
        <servlet-class>com.stumpner.mediadesk.web.servlet.ImageServlet</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>downloadServlet</servlet-name>
        <servlet-class>com.stumpner.mediadesk.web.servlet.DownloadServlet</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>podcastServlet</servlet-name>
        <servlet-class>com.stumpner.mediadesk.web.servlet.PodcastServlet</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>SiteModule</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>IndexDispatcher</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>RegisterDispatcher</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>LoginDispatcher</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    </servlet>

    <!-- ajax servlets -->
    <servlet>
        <servlet-name>AjaxCatReorderServlet</servlet-name>
        <servlet-class>com.stumpner.mediadesk.web.servlet.ajax.CatReorder</servlet-class>
    </servlet>
    <!--
    <servlet>
        <servlet-name>SysadminDispatcher</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>ImageImportDispatcher</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>InboxDispatcher</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    </servlet>
    -->
    <servlet>
        <servlet-name>PinDispatcher</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>PinLoginDispatcher</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>SettingsDispatcher</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ErrorDispatcher</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>CssServlet</servlet-name>
        <servlet-class>com.stumpner.mediadesk.web.servlet.CssServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>RssServlet</servlet-name>
        <servlet-class>com.stumpner.mediadesk.web.servlet.RssServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>SitemapServlet</servlet-name>
        <servlet-class>com.stumpner.mediadesk.web.servlet.Sitemap</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>RobotsTxtServlet</servlet-name>
        <servlet-class>com.stumpner.mediadesk.web.servlet.RobotsTxt</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>ApiServlet</servlet-name>
        <servlet-class>com.stumpner.mediadesk.api.ApiServlet</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>CewolfServlet</servlet-name>
        <servlet-class>de.laures.cewolf.CewolfRenderer</servlet-class>
        <init-param>
            <param-name>debug</param-name>
            <param-value>true</param-value>
        </init-param>
        <load-on-startup>1</load-on-startup>
    </servlet>


    <servlet>
        <servlet-name>SpringDispatcher</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>UploadServlet</servlet-name>
        <servlet-class>com.stumpner.mediadesk.web.servlet.UploadServlet</servlet-class>
    </servlet>
    <servlet>
        <servlet-name>FaviconServlet</servlet-name>
        <servlet-class>com.stumpner.mediadesk.web.servlet.FaviconServlet</servlet-class>
    </servlet>

    <servlet>
        <servlet-name>LogoServlet</servlet-name>
        <servlet-class>com.stumpner.mediadesk.web.servlet.LogoServlet</servlet-class>
    </servlet>

    <servlet-mapping>
        <servlet-name>webdav</servlet-name>
        <url-pattern>/webdav/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>UploadServlet</servlet-name>
        <url-pattern>/gateway/upload/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>ApiServlet</servlet-name>
        <url-pattern>/gateway/api/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>AjaxCatReorderServlet</servlet-name>
        <url-pattern>/ajax/catreorder*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>FaviconServlet</servlet-name>
        <url-pattern>/favicon.ico</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>LogoServlet</servlet-name>
        <url-pattern>/logo.gif</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>imageServlet</servlet-name>
        <url-pattern>/imageservlet/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>downloadServlet</servlet-name>
        <url-pattern>/download/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>podcastServlet</servlet-name>
        <url-pattern>/podcast/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>SiteModule</servlet-name>
        <url-pattern>/module/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>IndexDispatcher</servlet-name>
        <url-pattern>/index/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>IndexDispatcher</servlet-name>
        <url-pattern>/de/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>IndexDispatcher</servlet-name>
        <url-pattern>/en/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>RegisterDispatcher</servlet-name>
        <url-pattern>/register/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>LoginDispatcher</servlet-name>
        <url-pattern>/login/*</url-pattern>
    </servlet-mapping>
    <!--
    <servlet-mapping>
        <servlet-name>SysadminDispatcher</servlet-name>
        <url-pattern>/sysadmin/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>ImageImportDispatcher</servlet-name>
        <url-pattern>/imageimport/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>InboxDispatcher</servlet-name>
        <url-pattern>/inbox/*</url-pattern>
    </servlet-mapping>
    -->
    <servlet-mapping>
        <servlet-name>PinDispatcher</servlet-name>
        <url-pattern>/pinpic/*</url-pattern>
    </servlet-mapping>                                      
    <servlet-mapping>
        <servlet-name>PinLoginDispatcher</servlet-name>
        <url-pattern>/pin/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>SettingsDispatcher</servlet-name>
        <url-pattern>/settings/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ErrorDispatcher</servlet-name>
        <url-pattern>/error/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>CssServlet</servlet-name>
        <url-pattern>/style.css</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>RssServlet</servlet-name>
        <url-pattern>/rss/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>SitemapServlet</servlet-name>
        <url-pattern>/sitemap.xml</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>RobotsTxtServlet</servlet-name>
        <url-pattern>/robots.txt</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>SpringDispatcher</servlet-name>
        <url-pattern>/dispatcher/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>CewolfServlet</servlet-name>
        <url-pattern>/cewolf/*</url-pattern>
    </servlet-mapping>




    <error-page>
        <error-code>403</error-code>
        <location>/error/403</location>
    </error-page>

    <error-page>
        <error-code>404</error-code>
        <location>/error/404</location>
    </error-page>

    <error-page>
        <error-code>500</error-code>
        <location>
            /error/500
        </location>
    </error-page>

    <error-page>
        <exception-type>com.stumpner.mediadesk.core.database.sc.exceptions.QuotaExceededException</exception-type>
        <location>/error/quotaexceeded</location>
    </error-page>

    <error-page>
        <exception-type>com.stumpner.mediadesk.web.mvc.exceptions.UndefinedWebStateException</exception-type>
        <location>/error_undefinedwebstate.jsp</location>
    </error-page>

    <error-page>
        <exception-type>com.stumpner.mediadesk.lic.LicenseException</exception-type>
        <location>/error_licensefailed.jsp</location>
    </error-page>

    <error-page>
        <exception-type>com.stumpner.mediadesk.web.mvc.exceptions.Http404Exception</exception-type>
        <location>/error/404</location>
    </error-page>
<!--
    <taglib>
	<taglib-uri>http://java.sun.com/jstl/core</taglib-uri>
	<taglib-location>/WEB-INF/c-1_0.tld</taglib-location>
    </taglib>

    <taglib>
	<taglib-uri>http://jakarta.apache.org/taglibs/fmt</taglib-uri>
	<taglib-location>/WEB-INF/fmt.tld</taglib-location>
    </taglib>

<taglib>
  <taglib-uri>http://jakarta.apache.org/taglibs/datetime-1.0</taglib-uri>
  <taglib-location>/WEB-INF/taglibs-datetime.tld</taglib-location>
</taglib>

    <taglib>
        <taglib-uri>/spring</taglib-uri>
        <taglib-location>/WEB-INF/spring.tld</taglib-location>
    </taglib>

    <taglib>
        <taglib-uri>/suside</taglib-uri>
        <taglib-location>/WEB-INF/mediadesk.tld</taglib-location>
    </taglib>

    <taglib>
        <taglib-uri>/WEB-INF/cewolf.tld</taglib-uri>
        <taglib-location>/WEB-INF/cewolf.tld</taglib-location>
    </taglib>    -->

</web-app>